<eg-staff-banner
  bannerText=" {{currentCourse.course_number()}}: {{currentCourse.name()}}"
  i18n-bannerText class="mb-3" *ngIf="currentCourse"
  [bannerStyle]="currentCourse.is_archived() == 't' ? 'alert-secondary' : null"
  [bannerIcon]="currentCourse.is_archived() == 't' ? 'lock' : null">
</eg-staff-banner>

<div class="row">
  <div class="col text-right">
    <button class="btn btn-danger"
      (click)="archiveCourse()" [disabled]="currentCourse && currentCourse.is_archived() == 't'">
      <i class="material-icons align-middle"
        *ngIf="currentCourse && currentCourse.is_archived() == 't'">block</i>
      <span class="align-middle">Archive Course</span>
    </button>
    <a class="btn btn-warning ml-3" routerLink="/staff/admin/local/asset/course_list" i18n>
      <i class="material-icons align-middle">keyboard_return</i>
      <span class="align-middle">Return to Course List</span>
    </a>
  </div>
</div>
<ngb-tabset class="mb-3">

  <!-- Edit Tab -->
  <ngb-tab title="Edit Course" i18n-title id="edit">
    <ng-template ngbTabContent>
      <div class="row">
        <div class="col-lg-3 mt-3">
        </div>
        <div class="col-lg-6 mt-3">
          <eg-fm-record-editor displayMode="inline"
            mode="update"
            hiddenFieldsList="id,is_archived"
            idlClass="acmc"
            [preloadLinkedValues]="true"
            [record]="currentCourse">
          </eg-fm-record-editor>
        </div>
      </div>
    </ng-template>
  </ngb-tab>

  <!-- Materials Tab -->
  <ngb-tab title="Course Materials" i18n-title id="courseMaterials">
    <ng-template ngbTabContent>
      <eg-course-associate-material-dialog [courseId]="courseId" 
        [currentCourse]="currentCourse" displayMode="inline">
      </eg-course-associate-material-dialog>
    </ng-template>
  </ngb-tab>

  <!-- Users Tab -->
  <ngb-tab title="Course Users" i18n-title id="courseUsers">
    <ng-template ngbTabContent>
      <eg-course-associate-users-dialog [courseId]="courseId" 
        [currentCourse]="currentCourse" displayMode="inline">
      </eg-course-associate-users-dialog>
    </ng-template>
  </ngb-tab>
</ngb-tabset>

<eg-string #archiveFailedString i18n-text text="Archival of Course failed or was not allowed"></eg-string>
<eg-string #archiveSuccessString i18n-text text="Archival of Course succeeded"></eg-string>
